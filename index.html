<!doctype html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>LedStrip Shader Language console thingy</title>
		<script type='text/javascript'>
			var Module = {
				print: (function(...args) {
					var text = args.join(' ');
					console.log(text);
				}),
				onRuntimeInitialized: (function() {
					Module.ccall('init', null, [], []);
					document.querySelector("#code_text").disabled=false;
					recompile_typed();
				}),
			};
		</script>
		<script type="text/javascript" src="lssl.js"></script>
		<script type="text/javascript" src="index.js"></script>
		<link rel="stylesheet" type="text/css" href="index.css">
	</head>
	<body>
		<pre disabled="true" contentEditable="true" id="code_text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="width: 50%; height: 20em;">
function set_led(pos, time){
	var a=pos*0.1+time*2;
	var r=sin(a)*127+128;
	var g=sin(a+2.1)*127+128;
	var b=sin(a+4.2)*127+128;
	led_set_rgb(r, g, b);
}<br>
<br>
function main() {<br>
	register_led_cb(set_led);<br>
}<br>
</pre>
		<br>
		<canvas id="leds" width="100" height="1" style="width:100%; height: 20px;">
		</canvas>
	</body>
</html>
